import { TestValidator } from "@nestia/e2e";
import { TestGlobal } from "../TestGlobal";
// import typia from "typia";
// import assert from "assert";
import { ShortIoService } from "@wrtnlabs/connector-short-io";

export const test_short_io = async () => {
  const shortIoService = new ShortIoService({
    shortIoApiKey: TestGlobal.env.SHORT_IO_API_KEY,
  });

  const originalUrl =
    "https://www.google.com/travel/clk/f?u=Eqg8CgJVQRoECAMQAUK1BgoCVVMSAmVuGhM2NTUwNzc2MDE4ODc3MjQzNzkxIgNVU0QoADoFCP-o2i46BQiY0OIuQKMBQN8BQB1AHkCMAkDRAkC-AkDgAkDYAkDhAkD7AkDtAkCEA0DsAkCUA0DvAkCNA0CYA0CbA0CpA0CaA0CvA0CrA0C1A0DDA0DEA0CuA0CwA0CTA0DCA0CsA0C8A0DKA0DLA0DMA0C2A0DHA0DPA0DNA0DUA0DAA0DVA0DZA0gAUAFYAGJ_TW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyNS4wLjAuMCBTYWZhcmkvNTM3LjM2LGd6aXAoZ2ZlKYgBAKIBGE1JU1NJTkdfRVhFQ1VUSU9OX1JFU1VMVKIBDWIzODMwOTExNzRfdjLCAXRDalJJYm1oVVRIVnhia3BEWWsxQlJVVkhNbWRDUnkwdExTMHRMUzB0TFMxMmQzVnBNVUZCUVVGQlIyWTBlbGRWVDBvMldrMUJFZ3BWUVRNMk1IeFZRVFUzR2dzSXZxUUxFQUlhQTFWVFJEZ2NjTDZrQ3c9PdIB1AJodHRwczovL3d3dy5nb29nbGUuY29tL3RyYXZlbC9mbGlnaHRzP3Rmcz1DQjhRQWhwZkVnb3lNREkxTFRBMExURXlJaDRLQTBORVJ4SUtNakF5TlMwd05DMHhNaG9EUlZkU0tnSlZRVElDTlRZaUh3b0RSVmRTRWdveU1ESTFMVEEwTFRFeUdnTkJWVk1xQWxWQk1nTTJNRFpxQndnQkVnTkRSRWR5QndnQkVnTkJWVk1hWHhJS01qQXlOUzB3TkMweE9DSWZDZ05CVlZNU0NqSXdNalV0TURRdE1UZ2FBMFZYVWlvQ1ZVRXlBek0yTUNJZUNnTkZWMUlTQ2pJd01qVXRNRFF0TVRnYUEwTkVSeW9DVlVFeUFqVTNhZ2NJQVJJRFFWVlRjZ2NJQVJJRFEwUkhRQUZJQVhBQmdnRU5DUF9fX19fX19fX19fd0VRQUpnQkFRWCZgAnKYJApZChwKCENIRUFQRVNUGbT0TArXNpxAIgdFQ09OT01ZCjkKCENIRUFQRVNUGbT0TArXNpxAIiRBTEwtQlJBTkRTLVNFTExVUC0tQUxMLVNMSUNFUy8vVUEvQkUqDgoHMTgwNS43MRIDVVNEOg4KBzE4MDUuNzESA1VTRFIOCgcxMzA0LjAwEgNVU0RiDQoGNTAxLjcxEgNVU0SiAQsKBDAuMDASA1VTROoBhgsKmAUKhAIKsQEKBgoCVUEQOBIDQ0RHGgNFV1IyFjIwMjUtMDQtMTJUMDk6NDUrMDI6MDA6FjIwMjUtMDQtMTJUMTE6NTAtMDQ6MDBCBRIDNzc3ggEBMYoBAUKQAeUDmgEFCAEQtRyoAQC6ARcIARIGEgRNZWFsGgtOb24tc21va2luZ7oBFwgCEgYSBE1lYWwaC05vbi1zbW9raW5nugEXCAMSBhIETWVhbBoLTm9uLXNtb2tpbmegAgCAAQCSAQJVQZgBOKIBA0NER6oBA0VXUrIBFjIwMjUtMDQtMTJUMDk6NDUrMDI6MDC6ARYyMDI1LTA0LTEyVDExOjUwLTA0OjAwwAEAyAHlAwr1AQqhAQoHCgJVQRDeBBIDRVdSGgNBVVMyFjIwMjUtMDQtMTJUMTM6NTctMDQ6MDA6FjIwMjUtMDQtMTJUMTc6MTEtMDU6MDBCBRIDMzE5ggEBQZAB_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_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_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";

  const shorten = await shortIoService.shorten({
    url: originalUrl,
    domain: "test-wrtnlabs.short.gy",
  });

  const res = await fetch(shorten.url);

  const data = res.url;

  TestValidator.equals("Equal original url and lengthen url")(originalUrl)(
    data,
  );
};
